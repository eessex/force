- artworkSize = artworkSize || 'medium'
- imageWidth = imageWidth || false
- imageHeight = imageHeight || false
- displayPurchase = displayPurchase || false
- showBlurbs = showBlurbs || false
- isAuction = isAuction || (set && set.get('type') === 'auction artworks') || false
- hasInstitutionPartner = artwork.get('partner') && artwork.get('partner').type === 'Institution' && !artwork.get('forsale')
- displayPrice != null ? displayPrice : displayPrice = true
- saleArtwork = artwork.related().saleArtwork
- hasAuctionPartner = (artwork.get('partner') && (artwork.get('partner').type === 'Auction' || artwork.get('partner').type === 'Auction House')) || artwork.get('is_biddable')
- showContact = !isAuction && artwork.isContactable()
- showBuyButton = displayPurchase && artwork.get('acquireable')
- showBuyLink = artwork.get('acquireable') && artwork.get('ecommerce') && !showBuyButton

figure.artwork-item( data-artwork= artwork.get('id') data-id= artwork.get('_id') )
  .artwork-item-image-container
    a.artwork-item-image-link( href= artwork.href() )
      include ./partials/image.jade
      include ./partials/save.jade

  figcaption.artwork-item-caption
    include ./partials/artist.jade
    include ./partials/title.jade
    include ./partials/partner.jade
    include ./partials/price.jade
    include ./partials/auction_info.jade
    if hasAuctionPartner && !isAuction
      include ./partials/bid_now.jade
    if showBuyButton
      include ./partials/buy_button.jade
    else if showBuyLink
      include ./partials/buy_link.jade
    else if showContact && !hasAuctionPartner
      include ./partials/contact.jade
